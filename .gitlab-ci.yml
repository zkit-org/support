stages:
    - prepare
    - deploy

dependencies-boot:
    stage: prepare
    only:
        - main
    tags:
        - dev
    script:
        - cd boot-dependencies
        - java -version
        - mvn -v
        - echo $NEXUS_USERNAME
        - echo $NEXUS_PASSWORD
        - mvn clean deploy -U -s ../settings.xml

dependencies-cloud:
    stage: prepare
    only:
        - main
    tags:
        - dev
    script:
        - cd cloud-dependencies
        - java -version
        - mvn -v
        - mvn clean deploy -U -s ../settings.xml

deploy-all:
    stage: deploy
    only:
        - main
    tags:
        - dev
    script:
        - java -version
        - mvn -v
        - mvn clean deploy -U -s settings.xml
